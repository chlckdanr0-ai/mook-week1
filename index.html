<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê½ƒ ê±´ì¡° ê°€ì´ë“œ | Flower Drying Guide</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- TensorFlow.js & Teachable Machine -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest"></script>

    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, getDoc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_BUCKET",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ì „ì—­ ë³€ìˆ˜ ì„¤ì •
        window.db = db;
        window.doc = doc;
        window.getDoc = getDoc;
        window.setDoc = setDoc;
        window.serverTimestamp = serverTimestamp;
    </script>
</head>
<body>

    <button id="theme-toggle" class="theme-toggle">ğŸŒ™ ë‹¤í¬ ëª¨ë“œ</button>

    <div class="card">
        <h1>ğŸŒ¸ ê½ƒ ê±´ì¡° ê°€ì´ë“œ</h1>
        <p class="subtitle">ê½ƒ ì‚¬ì§„ì„ ì˜¬ë¦¬ë©´ ê±´ì¡° ê¸°ê°„ì„ ì•Œë ¤ë“œë ¤ìš”</p>

        <div class="upload-container">
            <label class="upload-btn">
                ê½ƒ ì‚¬ì§„ ì˜¬ë¦¬ê¸°
                <input type="file" accept="image/*" onchange="processImage(event)">
            </label>
        </div>

        <img id="preview">
        
        <div id="result">
            <span class="result-title" id="flower-name-display">ê½ƒ ì´ë¦„ ë¶„ì„ ì¤‘...</span>
            <div class="result-desc" id="drying-info-display">
                ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.
            </div>
        </div>
    </div>

    <!-- ê´€ë¦¬ì ë¡œê·¸ì¸ ë²„íŠ¼ -->
    <button id="admin-login-btn" class="admin-float-btn">ğŸ”‘ ê´€ë¦¬ì</button>

    <!-- ê´€ë¦¬ì ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="admin-modal" class="admin-modal">
        <div class="admin-modal-content">
            <span class="close-btn">&times;</span>
            <h3>ê´€ë¦¬ì ë¡œê·¸ì¸</h3>
            <input type="password" id="admin-password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
            <button id="login-submit" class="upload-btn">ë¡œê·¸ì¸</button>
            <p id="login-error" style="color: #e74c3c; font-size: 13px; margin-top: 10px; display: none;">ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.</p>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
